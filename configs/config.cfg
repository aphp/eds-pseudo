[nlp]
lang = "eds"
pipeline = ["normalizer", "sentencizer", "embedding", "ner"]
batch_size = 4
components = ${components}

[components.normalizer]
@factory = "eds.normalizer"

[components.sentencizer]
@factory = "eds.sentences"

[components.embedding]
@factory = "eds.text_cnn"
kernel_sizes = [3]

[components.embedding.embedding]
@factory = "eds.transformer"
model = "camembert-base"
window = 128
stride = 96

[components.ner]
@factory = "eds.ner"
mode = "joint"
embedding = ${components.embedding}

[paths]
train = "data/dataset/train.jsonl"
dev = "data/dataset/dev.jsonl"
test = "data/dataset/test.jsonl"

[train]
nlp = ${nlp}
train_data = {"@misc": "brat_dataset", "path": ${paths.train}}
val_data = {"@misc": "brat_dataset", "path": ${paths.dev}}
max_steps = 2000
validation_interval = 200
batch_size = 32
lr = 5e-5
seed = 42
